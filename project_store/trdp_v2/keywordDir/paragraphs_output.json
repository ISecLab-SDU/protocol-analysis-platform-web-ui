{
  "Train Real-Time Data Protocol (TRDP) -> A.2 Lower Layers": "The value is 3530.",
  "Train Real-Time Data Protocol (TRDP) -> A.4 Interaction between TRDP user and TRDP Layer -> Figure A.4 芒聙聯 TRDP service model": "This appears to be a figure or table reference number and not a complete sentence.",
  "Train Real-Time Data Protocol (TRDP) -> A.4 Interaction between TRDP user and TRDP Layer": "The TRDP layer shall provide services for process data and message data communication.",
  "Train Real-Time Data Protocol (TRDP) -> A.2 Lower Layers -> A.2.1 Data link layer": "3531 TRDP uses the ETB as defined in IEC 61375-2-5 for data communication within trains.",
  "Train Real-Time Data Protocol (TRDP) -> A.3 TRDP FCS computation -> Figure A.3 芒聙聯 FCS Table": "IEC CD 61375-2-3 document reference 3685, IEC 2024, page 135 of 3102",
  "Train Real-Time Data Protocol (TRDP) -> A.3 TRDP FCS computation": "For TRDP FCS CRC computation, the CRC32 according to IEEE802.3 is used. Based on the table below, the following algorithm in C programming language notation is provided:",
  "Train Real-Time Data Protocol (TRDP) -> A.1 General -> Figure A.1 芒聙聯 Overview of the protocol stack": "The IEC 61375-2-3 standard describes the TRDP protocol stack which includes Ethernet, TCP/UDP, TRDP, and other applications for end devices, with TRDP handling safe data communication in train communication networks.",
  "Train Real-Time Data Protocol (TRDP) -> A.6 Process Data": "This appears to be a numerical identifier or reference number without meaningful sentence structure. Please provide the actual sentence content for analysis.",
  "Train Real-Time Data Protocol (TRDP) -> A.6 Process Data -> A.6.3 Communication pattern": "The sentence '3729' appears to be incomplete or contains non-natural language characters. Please provide the complete sentence for proper analysis.",
  "Train Real-Time Data Protocol (TRDP) -> A.6 Process Data -> A.6.1 Communication model": "The TRDP process data protocol defines the exchange of PD-PDUs for the transfer of process data. PD-PDUs shall be cyclically transmitted or transmitted on request between a publisher and one or many subscribers.",
  "Train Real-Time Data Protocol (TRDP) -> A.5 Communication Identifier (ComId) -> Table A.2 芒聙聯 Reserved ComIds": "ComId 3715 has an unspecified PDU service description. ComId 104 is reserved for TTDB consist information request service.",
  "Train Real-Time Data Protocol (TRDP) -> A.3 TRDP FCS computation -> Figure A.2 芒聙聯 FCS Computation": "The FCS-32 generator polynomial is: x^0 + x^1 + x^2 + x^4 + x^5 + x^7 + x^8 + x^10 + x^11 + x^12 + x^16 + x^22 + x^23 + x^26 + x^32. 3616",
  "Train Real-Time Data Protocol (TRDP) -> A.1 General": "This annex defines the train real-time data protocol (TRDP) which shall be used for all TRDP data on the wire defined as big endian and byte alignment. NOTE 1: Also the optional safety layer uses the data in wire format (big endian and byte alignment). NOTE 2: TRDP transmits data 1-byte aligned. If the data contain VDPs as defined in Annex B, the VDPs themselves are defined accordingly.",
  "Train Real-Time Data Protocol (TRDP) -> A.2 Lower Layers -> A.2.3 Transport Layer": "TRDP uses the services of the UDP (RFC 768) and TCP (RFC 793) transport layer protocols. Any TRDP process data shall be sent with UDP. TRDP process data packet size shall be specified. TRDP message data may be sent with UDP or with TCP. The choice shall be done by the user. Note: Message data packets exceeding the Ethernet MTU in size (about 1500 bytes) can be transmitted by TCP. For interoperable data communication, the destination port assignments (well-known ports) shall be used.",
  "Train Real-Time Data Protocol (TRDP) -> A.6 Process Data -> A.6.3 Communication pattern -> Figure A.5 芒聙聯 PD push pattern (point to point)": "The PD push pattern (point to point) is illustrated in Figure A.5.",
  "Train Real-Time Data Protocol (TRDP) -> A.2 Lower Layers -> A.2.2 Network Layer": "TRDP is based on IP (RFC 791) for data exchange between functions located in different devices. IP addressing of functions and devices is defined in IEC 61375-2-5 and in this part of the standard. Data transfer between ETB and CN is provided by a gateway functionality of the ETBN. NOTE 1: The filtering of inconsistent data within the ETBN reduces the probability that inconsistent data are transmitted. NOTE 2: A possible implementation will be to define corresponding firewall rules for the IP router within the ETBN. NOTE 3: Depending on the safety and security concept, ordinary process data and message data might use different communication channels.",
  "Train Real-Time Data Protocol (TRDP) -> A.6 Process Data -> A.6.2 Roles": "The communication partners in a process data transfer can have different roles: publisher is the source of process data, subscriber is the sink of process data, and requester requests the publisher to publish its process data. Publisher and requester coincide in push communication pattern. 3727 A subscriber may also be a requester in pull communication patterns.",
  "Train Real-Time Data Protocol (TRDP) -> A.2 Lower Layers -> A.2.3 Transport Layer -> Table A.1 芒聙聯 UDP/TCP port assignments (well known ports)": "Protocol Destination Port assignments: Process Data uses UDP port 17224, Message Data uses UDP/TCP port 17225. For receiving UDP message data reply telegrams, the port from which the related request was sent should be used. For sending UDP message data reply telegrams, any source port different from the one used for receiving should be used. TCP connections shall be established using a source port different from the well-known port. Using different port numbers from those defined in Table A.1 may be allowed for project-specific implementations. The used well-known port numbers should be given as a configuration parameter to the system.",
  "Train Real-Time Data Protocol (TRDP) -> A.6 Process Data -> A.6.3 Communication pattern -> Figure A.6 芒聙聯 PD push pattern (point to multipoint)": "This appears to be a figure or table reference number and has been removed as it contains non-natural language content.",
  "Train Real-Time Data Protocol (TRDP) -> A.6 Process Data -> A.6.3 Communication pattern -> Figure A.10 芒聙聯 PD pull pattern (multipoint to multipoint, sink does not know source)": "This sentence contains only numbers and appears to be garbled text or a reference number that should be removed.",
  "Train Real-Time Data Protocol (TRDP) -> A.5 Communication Identifier (ComId)": "All TRDP communication uses a so called ComId transmitted in the header of each PDU. The ComId forms, together with source IP address and destination IP address, a unique identifier. The ComId is application dependent but should be standardized in the application profiles. The ComId has a one-to-one relation with the data set structure. The ComId shall be set to zero (ComId = 0) in the following cases: for PDUs with unspecified user dataset. The ComIds 1..999 shall not be used by the application since they are reserved for specific purposes.",
  "Train Real-Time Data Protocol (TRDP) -> A.6 Process Data -> A.6.6 Interaction between application and TRDP protocol layer": "The interaction between application and TRDP protocol layer involves data exchange and communication processes.",
  "Train Real-Time Data Protocol (TRDP) -> A.6 Process Data -> A.6.3 Communication pattern -> Figure A.9 芒聙聯 PD pull pattern (point to multipoint, sink knows source)": "The IEC subscriber publisher requester exchanges PD-PDU replies and requests according to the PD pull pattern where the sink knows the source.",
  "Train Real-Time Data Protocol (TRDP) -> A.6 Process Data -> A.6.3 Communication pattern -> Figure A.7 芒聙聯 PD pull pattern (point to point, sink knows source)": "The IEC publisher requester exchanges PD-PDU messages in a pattern of request and reply, as specified in IEC CD 61375-2-3 IEC 2024 document 9/3102/CD.",
  "Train Real-Time Data Protocol (TRDP) -> A.6 Process Data -> A.6.4 Addressing": "A publisher/subscriber shall use an IP unicast address for addressing a known destination. A publisher/subscriber shall use an IP multicast address for addressing groups of known destinations. A publisher/subscriber shall use an IP multicast address for addressing unknown destinations. Address ranges which can be used for process data communication are defined in IEC 61375.",
  "Train Real-Time Data Protocol (TRDP) -> A.6 Process Data -> A.6.3 Communication pattern -> Figure A.8 芒聙聯 PD pull pattern (multipoint to point, sink does not know source)": "The IEC publisher requester exchanges PD-PDU requests and replies in a pattern where PD-PDU requests are followed by multiple PD-PDU replies from the publisher.",
  "Train Real-Time Data Protocol (TRDP) -> A.6 Process Data -> A.6.3 Communication pattern -> A.6.3.1 Push communication pattern": "Process data exchange shall support the following push communication pattern as defined in point to point, cyclic without acknowledge, where the source knows the sink; groups; and additional group configurations. NOTE 1: From a communication point of view, there will be no difference in point to multipoint communication. NOTE 2: Cyclic transmission can be triggered by the TRDP layer or by the application. IEC CD 61375-2-3 IEC 2024",
  "Train Real-Time Data Protocol (TRDP) -> A.6 Process Data -> A.6.5 PD-PDU": "The structure of a PD-PDU is defined in Figure A.11 and in ASN.1 notation, with additional IEC subscriber, publisher, and requester roles for PD-PDU request and reply messages.",
  "Train Real-Time Data Protocol (TRDP) -> A.6 Process Data -> A.6.6 Interaction between application and TRDP protocol layer -> Figure A.12 芒聙聯 Interaction sequence chart for PD pull pattern": "The interaction sequence chart for PD pull pattern shows the communication process between application and TRDP protocol layer.",
  "Train Real-Time Data Protocol (TRDP) -> A.6 Process Data -> A.6.6 Interaction between application and TRDP protocol layer -> A.6.6.1 Service primitives": "The TRDP layer shall provide a service for process data communication to the TRDP user. NOTE: The service primitives are defined in an abstract way in order not to restrict implementations. Sentence fragment removed",
  "Train Real-Time Data Protocol (TRDP) -> A.6 Process Data -> A.6.5 PD-PDU -> Figure A.11 芒聙聯 PD-PDU": "The PD_PDU record structure includes dataset, sequenceCounter, protocolVersion, etbTopoCnt, datasetLength, replyComId, msgType, 40 octets reserved, replyIpAddress, 24 octets headerFCS, and opTrnTopoCnt fields as defined in IEC CD 61375-2-3 IEC 2024.",
  "Train Real-Time Data Protocol (TRDP) -> A.6 Process Data -> A.6.3 Communication pattern -> A.6.3.2 Pull communication pattern": "Process data exchange shall support the following pull communication pattern as defined in point to point, without acknowledge, sink knows the source (Figure A.7). A dedicated subscriber is requesting the known publisher to send its PD-PDU. 3751 (Figure A.10). Here, one dedicated subscriber is requesting one or multiple unknown publishers to send their PD-PDU data.",
  "Train Real-Time Data Protocol (TRDP) -> A.6 Process Data -> A.6.6 Interaction between application and TRDP protocol layer -> A.6.6.2 PD User access": "The TRDP user shall have two possibilities to retrieve process data: either via a poll mechanism, typically",
  "Train Real-Time Data Protocol (TRDP) -> A.6 Process Data -> A.6.6 Interaction between application and TRDP protocol layer -> Figure A.13 芒聙聯 Interaction sequence chart for PD push pattern used for TRDP layer": "The triggered PD cycle runs from step 3869 to step 3871",
  "Train Real-Time Data Protocol (TRDP) -> A.6 Process Data -> A.6.6 Interaction between application and TRDP protocol layer -> Figure A.14 芒聙聯 Interaction sequence chart for PD push pattern, used for application": "The triggered PD cycle occurs between steps 3872 and 3874",
  "Train Real-Time Data Protocol (TRDP) -> A.6 Process Data -> A.6.8 State Machine": "The state machine identifier is 3903.",
  "Train Real-Time Data Protocol (TRDP) -> A.6 Process Data -> A.6.6 Interaction between application and TRDP protocol layer -> Figure A.15 芒聙聯 Interaction sequence chart for redundant PD handling": "The process data sequence number is 3890",
  "Train Real-Time Data Protocol (TRDP) -> A.6 Process Data -> A.6.8 State Machine -> Figure A.16 芒聙聯 PD State diagram publisher": "Guards, triggers, actions and states are described in Table A.6 to Table A.9. 3920",
  "Train Real-Time Data Protocol (TRDP) -> A.6 Process Data -> A.6.7 Topography counter check": "Before sending a telegram, the topography counters of the telegram shall be checked. After reception of a telegram, the topography counter values shall be checked in two steps. The topography counter check is passed if at least one of the cases listed in Table A.5 is satisfied.",
  "Train Real-Time Data Protocol (TRDP) -> A.6 Process Data -> A.6.8 State Machine -> Table A.7 芒聙聯 PD publisher state diagram 芒聙聯 triggers": "Triggers Description: PD.publish user called PD.publish service primitive continues publishing train-wide process data. Topology count change triggers service primitive PD.putData immediately or service primitive PD.putDataImmediate.",
  "Train Real-Time Data Protocol (TRDP) -> A.6 Process Data -> A.6.8 State Machine -> Table A.8 芒聙聯 PD publisher state diagram 芒聙聯 actions": "Actions Description: updatePdTelegram takes process data packet from application and generates process data telegram for publishing. HeaderFCS sendNonTsnPdTelegram publishes (sends) the process data telegram. txTime equals cycle time for sending process data as defined in PD.publish service. stopPublishing stops publishing on request and stops the timer.",
  "Train Real-Time Data Protocol (TRDP) -> A.6 Process Data -> A.6.8 State Machine -> Table A.9 芒聙聯 PD publisher state diagram 芒聙聯 states": "States Description: CyclicOperation - The publisher sends PD-PDUs cyclically triggered by a timer",
  "Train Real-Time Data Protocol (TRDP) -> A.6 Process Data -> A.6.8 State Machine -> A.6.8.2 Request publishing of PD-PDU (PD request)": "One dedicated subscriber or an independent communication device may request one or many PD-PDUs.",
  "Train Real-Time Data Protocol (TRDP) -> A.6 Process Data -> A.6.8 State Machine -> Figure A.17 芒聙聯 PD State diagram requester": "Triggers, actions and states are described in Table A.10 to Table A.13. 3935",
  "Train Real-Time Data Protocol (TRDP) -> A.6 Process Data -> A.6.8 State Machine -> Table A.6 芒聙聯 PD publisher state diagram 芒聙聯 guards": "Guards Description: pattern configured communication pattern for the PD-PDU exchange. Values: PUSH. checkTopoCounts: Check the locally stored topology counters submitted with the publish. PD.publish timeout: CyclicOperation. PolledOperation: [pattern == PULL] PD.putData / restartTimer(txTime). PD.putData. PD.unpublish. requestReceived: [OK] [ELSE] / stopPublishing. [appTriggeredCycle == FALSE][appTriggeredCycle == TRUE] ApplicationTriggeredOperation / preparePd. PD.putDataImmediate / preparePd.",
  "Train Real-Time Data Protocol (TRDP) -> A.6 Process Data -> A.6.7 Topography counter check -> Table A.5 芒聙聯 Topography counter check": "The table shows topography counter check values for publisher and subscriber. The publisher has actual topography counter values and locally stored topography counter values. The subscriber has actual topography counter values and topography counter values of the received telegram. Case 3 applies when values are equal. Case 5 applies when any value equals 0. Case 0 applies when any value equals 0. Key: 0 means topography counter value is set to 0 (don't care). This is only relevant for comparing topography counter values of the received telegram with locally stored values. Case applies only for subscriber comparing topography counter values of the received telegram with locally stored values. Reference: IEC TRDP, IEC CD 61375-2-3 © IEC 2024",
  "Train Real-Time Data Protocol (TRDP) -> A.6 Process Data -> A.6.8 State Machine -> Table A.11 芒聙聯 PD requester state diagram 芒聙聯 triggers": "Triggers Description: PD.request is a service primitive called by the application",
  "Train Real-Time Data Protocol (TRDP) -> A.6 Process Data -> A.6.8 State Machine -> A.6.8.1 Publishing PD-PDU(data)": "A publisher shall publish PD-PDU(data) when: the defined time cycle terminates (push pattern, TRDP triggered cycle); the publisher receives an application request to send the data immediately (push pattern, application triggered); the publisher receives a request from a dedicated subscriber or an independent communication entity. To not overload subscribers, the publisher of TRDP triggered pushed PD-PDU shall apply a rate limitation. The publishing of PD-PDU(data) is defined with the state diagram depicted in Figure A.16. NOTE 1: Sending application triggered cyclic PD-PDUs shall be restricted since there is no possibility to include rate control. NOTE 2: If there is a pull request for a PD-PDU that is already published using the push pattern, the related reply is handled according to the protocol specifications.",
  "Train Real-Time Data Protocol (TRDP) -> A.6 Process Data -> A.6.6 Interaction between application and TRDP protocol layer -> A.6.6.5 PD Redundancy Handling": "The sequence chart in Figure A.15 shows the sequence of the service primitives for redundancy handling The service primitives for redundancy handling shall be used in the same way by the publisher and subscriber If a redundant function enters the redundancy leader state, it shall call PD.setRed(LEADER) for all relevant process data If a redundant function enters the redundancy follower state, it shall call PD.setRed(!LEADER) for all relevant process data When starting TRDP, publishers of redundant process data (identified by a ComId marked as redundant) shall initialize the redundancy handling The TRDP protocol involves publishers and subscribers exchanging process data telegrams using service primitives such as PD.indicate(data), PD.publish, PD.indicate(timeout), PD.subscribe, PD.putData, and PD.poll",
  "Train Real-Time Data Protocol (TRDP) -> A.6 Process Data -> A.6.6 Interaction between application and TRDP protocol layer -> A.6.6.4 Interaction sequence 芒聙聯 PD Push Pattern": "The PD push pattern can be used for any process data. The sequence charts in Figure A.13 and Figure A.14 define the allowed sequence of the service. In Figure A.13 process data are prepared cyclically by the publisher and shall be given to the TRDP layer. In Figure A.14 process data are prepared cyclically by the publisher. The publisher TRDP layer shall send out the data only after checking the locally stored topography counters. Any subscriber can subscribe for the process telegram using ComID and destination IP address. Timeout supervision at subscriber TRDP layer shall be started after subscription. Timeout supervision at subscriber TRDP layer shall be restarted after receiving the related process data. The subscriber TRDP layer shall check the topography counters of the received telegram. Until receiving the first valid telegram matching to the filter criteria the data shall be marked as invalid.",
  "Train Real-Time Data Protocol (TRDP) -> A.6 Process Data -> A.6.8 State Machine -> Table A.10 芒聙聯 PD publisher state diagram 芒聙聯 guards": "Guards Description: checkTopoCounts checks the topography counters submitted with the request against the actual topography counters. At least one of the cases listed in Table A.5 applies.",
  "Train Real-Time Data Protocol (TRDP) -> A.6 Process Data -> A.6.8 State Machine -> A.6.8.3 Receiving PD-PDU (PD reply/data)": "For an eventually related PD request see Figure A.17. Sentence removed as it contains only numbers without meaningful content",
  "Train Real-Time Data Protocol (TRDP) -> A.6 Process Data -> A.6.8 State Machine -> Table A.12 芒聙聯 PD requester state diagram 芒聙聯 actions": "Actions Description: prepareRequestTelegram prepares a request telegram to one or many publishers. Time equals rxTime, which is the timeout value given in the PD.subscribe service primitive.",
  "Train Real-Time Data Protocol (TRDP) -> A.6 Process Data -> A.6.8 State Machine -> Figure A.18 芒聙聯 PD State diagram subscriber": "Triggers, actions and states are described in Table A.14 to Table A.17. 3948",
  "Train Real-Time Data Protocol (TRDP) -> A.7 Message Data": "The value is 3957.",
  "Train Real-Time Data Protocol (TRDP) -> A.6 Process Data -> A.6.8 State Machine -> Table A.13 芒聙聯 PD requester state diagram 芒聙聯 states": "States Description Request: The requester sends request telegram. Sending of the request telegram is triggered by the application using PD.request. IEC PD.request Request Start IEC CD 61375-2-3 IEC 2024",
  "Train Real-Time Data Protocol (TRDP) -> A.6 Process Data -> A.6.8 State Machine -> Table A.17 芒聙聯 PD subscriber state diagram 芒聙聯 states": "States Description: WaitForPD state waits until a new process telegram is received",
  "Train Real-Time Data Protocol (TRDP) -> A.6 Process Data -> A.6.8 State Machine -> Table A.14 芒聙聯 PD subscriber state diagram 芒聙聯 triggers": "Triggers Description: PD.subscribe service primitive called by application to continue receiving train-wide published process data. Process data after topology count change. 3950",
  "Train Real-Time Data Protocol (TRDP) -> A.6 Process Data -> A.6.5 PD-PDU -> Table A.3 芒聙聯 PD-PDU parameters": "sequenceCounter The sequence counter: Shall be managed for sending process telegrams, shall be managed (stored) for received process telegrams, shall be incremented with each sending of the process telegram, and can be used for communication layer surveillance to verify that the application is still updating its process data. Computed. protocolVersion The protocol version shall consist of incompatible changes and compatible changes. Fixed. msgType Type of the telegram. comId Identifier of the user dataset. See also A.5. Set by user. Shall be used for train addressing as defined in IEC 61375-2-3. Shall be set by the user. opTrnTopoCnt The operational train topography counter: uses information from the operational train directory. Shall be set when the source device uses the operational train directory. Optional in all other cases. Shall be set to 0 (invalid) if not used. datasetLength The dataset length: octets without padding octets. 0..1432. Shall be the primary information about the user data. NOTE: In case of fixed size data sets this is redundant. reserved Reserved for future use. Set to 0. Shall be used only in a PD request. If the reply is 0, the reply shall be sent as an unspecified PDU. replyIpAddress The reply IP address for PD: shall be used for the reply. Set by user. headerFCS The header frame check sequence: Computed. dataset The user data. Set by user.",
  "Train Real-Time Data Protocol (TRDP) -> A.7 Message Data -> A.7.1 Communication model -> Figure A.19 芒聙聯 Message data transfer options": "The message data transfer options are illustrated in Figure A.19.",
  "Train Real-Time Data Protocol (TRDP) -> A.6 Process Data -> A.6.6 Interaction between application and TRDP protocol layer -> A.6.6.3 Interaction sequence 芒聙聯 PD Pull Pattern": "The sequence chart in Figure A.12 defines the allowed sequence of the service primitives. NOTE 1: Dotted lines in the sequence charts are used to indicate options. Process data are prepared cyclically by the publisher and shall be given to the TRDP layer. To receive a request, the publisher shall subscribe for requests. Until receiving the first request telegram matching the filter criteria of the subscription, related processing occurs. Also, a request for already cyclically published PDU shall be possible. Topography counters of an incoming request telegram shall be checked in accordance with A.6.7. Each incoming request telegram shall be responded to by the TRDP layer using the available data. If the reply IP address of the request telegram is 0, the source IP address of the request shall be used. To receive the related reply for a request, the requester needs to subscribe for replies. Until receiving the first reply telegram matching the filter criteria of the subscription, related processing occurs. NOTE 2: This is to prevent that the user fetches outdated reply data after the user has requested new reply data. Timeout supervision at subscriber TRDP layer shall be restarted after sending the request. The request can contain user data. Before sending out a request, the TRDP layer shall check the topology counters submitted with the request.",
  "Train Real-Time Data Protocol (TRDP) -> A.7 Message Data -> A.7.3 Communication pattern": "The value is 3981.",
  "Train Real-Time Data Protocol (TRDP) -> A.6 Process Data -> A.6.8 State Machine -> Table A.16 芒聙聯 PD subscriber state diagram 芒聙聯 actions": "Actions Description: indicate(data) - Notify application about a new received process or request telegram (service primitive PD.indicate). Check filter criteria. setDataInvalid - Sets the process data to initialized/invalid time equal to rxTime (timeout value given in PD.subscribe service primitive). Discard - Discard the telegram.",
  "Train Real-Time Data Protocol (TRDP) -> A.6 Process Data -> A.6.8 State Machine -> Table A.15 芒聙聯 PD subscriber state diagram 芒聙聯 guards": "Guards Description: The configured communication pattern for the PD-PDU exchange. Check the topography counters of the received telegram against the IEC standard. PD subscriber states include: subscribe, WaitForPD, unsubscribe, and pdReceived with transitions based on [OK], [else], [pattern == PUSH], and [pattern == PULL] conditions as defined in IEC CD 61375-2-3.",
  "Train Real-Time Data Protocol (TRDP) -> A.7 Message Data -> A.7.5 MD-PDU -> Figure A.20 芒聙聯 MD-PDU": "MD_PDU is defined as a record containing request",
  "Train Real-Time Data Protocol (TRDP) -> A.7 Message Data -> A.7.6 Interaction between application and TRDP layer": "The sentence '4035' contains only numeric characters and appears to be incomplete or garbled text. It has been removed as it does not form a complete natural language sentence.",
  "Train Real-Time Data Protocol (TRDP) -> A.7 Message Data -> A.7.5 MD-PDU": "The structure of a MD-PDU is defined in Figure A.20 and subsequently in ASN.1 notation.",
  "Train Real-Time Data Protocol (TRDP) -> A.7 Message Data -> A.7.3 Communication pattern -> A.7.3.1 Push communication pattern": "Message data exchange shall support the following push communication pattern as defined in point a) point to point, sporadic with acknowledge, source knows the sink; NOTE e) is not required in IEC 61375-1. 3991",
  "Train Real-Time Data Protocol (TRDP) -> A.7 Message Data -> A.7.3 Communication pattern -> A.7.3.2 Pull communication pattern": "Message data exchange shall support the following pull communication pattern as defined in point a) point to point, sporadic with acknowledge, sink knows the source; NOTE e) is not required in IEC 61375-1. Sentence number 4001",
  "Train Real-Time Data Protocol (TRDP) -> A.7 Message Data -> A.7.2 Roles": "3979 The communication partners in a message data transfer can have different roles: caller: the source of message data in push communication pattern and the sink of message data in pull communication pattern; replier: the source of message data in pull communication pattern and the sink of message data in push communication pattern",
  "Train Real-Time Data Protocol (TRDP) -> A.7 Message Data -> A.7.6 Interaction between application and TRDP layer -> A.7.6.1 Service primitives": "4036 The TRDP layer shall provide services for message data communication to the TRDP user. The IEC CD 61375-2-3 standard from IEC 2024 provides specifications for the TRDP protocol.",
  "Train Real-Time Data Protocol (TRDP) -> A.7 Message Data -> A.7.1 Communication model": "The TRDP message data protocol defines the message data exchange between a caller and replier. This gives a guaranteed transfer of data as the caller and replier are notified about the correct reception. A caller shall be able to define by the request type whether a reply is expected or not. A replier shall be able to define by the reply type whether a confirmation of its reply is expected. As a consequence, three message data transfer options shall be provided by TRDP: a) request without reply (notification). TRDP shall provide two mechanisms to transfer message data (via UDP and via TCP).",
  "Train Real-Time Data Protocol (TRDP) -> A.7 Message Data -> A.7.4 Addressing": "A caller shall use an IP unicast address or an IP multicast address for addressing known repliers. A caller shall use an IP multicast address for addressing unknown repliers. 4005 A caller may use an IP multicast address for addressing a known replier redundancy group. A replier shall respond to the caller's unicast address. Address ranges which can be used for message data communication are defined in IEC 61375.",
  "Train Real-Time Data Protocol (TRDP) -> A.7 Message Data -> A.7.8 MD protocol state machine": "The value is 4080.",
  "Train Real-Time Data Protocol (TRDP) -> A.7 Message Data -> A.7.6 Interaction between application and TRDP layer -> Figure A.21 芒聙聯 Interaction sequence chart": "The interaction sequence chart shows the communication flow between application and TRDP layers",
  "Train Real-Time Data Protocol (TRDP) -> A.7 Message Data -> A.7.6 Interaction between application and TRDP layer -> A.7.6.2 Interaction sequence": "The sequence chart in Figure A.21 defines the sequence of the service primitives. IEC CD 61375-2-3 IEC 2024 - 170 - 9/3102/CD",
  "Train Real-Time Data Protocol (TRDP) -> A.7 Message Data -> A.7.8 MD protocol state machine -> Figure A.22 芒聙聯 TRDP layer MD caller state chart": "The state machine transitions to state 4138.",
  "Train Real-Time Data Protocol (TRDP) -> A.7 Message Data -> A.7.8 MD protocol state machine -> Table A.22 芒聙聯 MD caller state diagram 芒聙聯 triggers": "Triggers Description: MD.request User called MD.request service primitive change of topography counters. 4140",
  "Train Real-Time Data Protocol (TRDP) -> A.7 Message Data -> A.7.8 MD protocol state machine -> Table A.24 芒聙聯 MD caller state diagram 芒聙聯 actions": "mdCallSession handles the states of a caller session. If sending the request message is repeated after timeout, the telegram sendConfirmMessage sends the confirm message MD.indicate service primitive.",
  "Train Real-Time Data Protocol (TRDP) -> A.7 Message Data -> A.7.7 Topography counter check": "Before sending a telegram, the topography counters of the telegram shall be checked against the expected values After reception of a telegram, the topography counter values shall be checked to ensure that they match the expected values The TRDP protocol involves a caller and replier (listener) using message types including MD.request, MD.addListener for request messages, MD.reply for reply messages, MD.indicate, MD.confirm for confirm messages, and MD.release as defined in IEC CD 61375-2-3",
  "Train Real-Time Data Protocol (TRDP) -> A.7 Message Data -> A.7.8 MD protocol state machine -> Table A.25 芒聙聯 MD caller state diagram 芒聙聯 states": "States Description: CompositeStateCaller is the composite state of the caller, the reply or replies, and optional requested confirmations from the application",
  "Train Real-Time Data Protocol (TRDP) -> A.7 Message Data -> A.7.7 Topography counter check -> Table A.21 芒聙聯 Topography counter check": "The table shows topography counter values for caller and replier, including etbTopoCnt and opTrnTopoCnt values. Case 5(3) shows values of 0 and 0 for any and any. This case is only relevant for comparing topography counter values of the received telegram with locally stored values. The case applies only for the replier when comparing topography counter values of the received telegram with locally stored values. Key: 0 means topography counter value is set to 0 (don't care).",
  "Train Real-Time Data Protocol (TRDP) -> A.7 Message Data -> A.7.6 Interaction between application and TRDP layer -> A.7.6.3 Filtering rules": "The service primitive MD.addListener allows optionally defining sourceUri and destinationURI. a) An empty destinationUri in MD telegrams shall be received by a listener regardless of any defined destinationUri. b) An empty sourceUri in MD telegrams has no special meaning. c) A listener shall receive MD telegrams regardless of any defined destinationUri in the MD telegram. d) An empty sourceUri filter entry in the MD.addListener service primitive means that the listener accepts telegrams from any source. e) Any two listeners shall have a disjunctive set of filter parameters: comId, sourceUri, and destinationUri. f) MD telegrams with empty destinationUri may be received by several listeners with different filter parameters. NOTE: An MD telegram sent to a unicast IP destination address with empty destinationUri is a potential multicast message.",
  "Train Real-Time Data Protocol (TRDP) -> A.7 Message Data -> A.7.8 MD protocol state machine -> Figure A.23 芒聙聯 TRDP layer MD replier state chart": "The TRDP layer MD replier state chart shows state 4207.",
  "Train Real-Time Data Protocol (TRDP) -> A.7 Message Data -> A.7.8 MD protocol state machine -> A.7.8.3 Handling of received messages (action mdHandleReceived)": "The state diagram is shown in Figure A.24 with explanations given in Table A.30 through Table A.33.",
  "Train Real-Time Data Protocol (TRDP) -> A.7 Message Data -> A.7.8 MD protocol state machine -> Table A.29 芒聙聯 MD replier state diagram 芒聙聯 states": "CompositeStateReplier is a composite state of the replier that requests a reply to the application and is now waiting for the StateWaitForConfirm state of a reply session that has sent out a reply request",
  "Train Real-Time Data Protocol (TRDP) -> A.7 Message Data -> A.7.8 MD protocol state machine -> Table A.23 芒聙聯 MD caller state diagram 芒聙聯 guards": "The guards description defines the sendType parameter of the MD request telegram as requested by the user in the MD.request service primitive. The sendType parameter NoOfRepliers length and topography counter must match at least one of the cases listed in Table A.21. The composite state caller processes MD.request through mdCallSession when sendType equals Mr, enters StateWaitForReply when sendType equals Mn, and leaves when missingReplies equals 0 AND missingConfirms equals 0. The state machine starts from the caller state, processes MD.confirm when mpReceived occurs, restarts with mdHandleCallerTimeout when maxTimeoutCnt does not equal 0, and otherwise processes meReceived to closeCallSession. The checkTopoCounts guard verifies the topology counters of the received message against the actual values.",
  "Train Real-Time Data Protocol (TRDP) -> A.7 Message Data -> A.7.8 MD protocol state machine -> Table A.27 芒聙聯 MD replier state diagram 芒聙聯 guards": "4210 Guards Description: existsReplySession - The reply session for a given session id exists; existsListener - A listener for the given request with fitting topography counters exists; replyType - Type of MD reply telegram as requested by the user; stateReplySession(sessionId) - Replier session state for a given session id including protocol type, length and topography counter; checkTopoCounts - Check the topography counters of the received message against 4211",
  "Train Real-Time Data Protocol (TRDP) -> A.7 Message Data -> A.7.6 Interaction between application and TRDP layer -> Table A.19 芒聙聯 TRDP service primitives 芒聙聯 Caller": "MD.request service primitive parameters include: msgType for sending notification messages (Mn), and userReference which is returned with the MD.indication. The callbackFunction is used by the user for handling incoming replies. sessionId is a session identifier used and returned by the TRDP layer. Parameters include: comId as defined in Table A.18, etbTopoCnt as defined in Table A.18, opTrnTopoCnt as defined in Table A.18, and sourceIpAddr for the IP source address. destinationIpAddr is the IP destination address generated from respective URIs using transProtocol UDP or TCP transport layer protocol. The number of repliers is used if the request message is sent to known destinations. replyTimeOut as defined in Table A.18 has a range of 0 to 2. MD.indicate service primitive parameters include: userReference which was submitted with MD.request for reception of a query message (Mq), comId as defined in Table A.18 (set to 0 if unknown for error return), and userStatus for user status or error code. MD.confirm service primitive parameters include: sessionId session identifier as returned by MD.indication. replyStatus as defined in Table A.18 is used by the TRDP user to ask to abort an open session, for example because of a TCN. sessionId is the session identifier used by the TRDP layer. 4042",
  "Train Real-Time Data Protocol (TRDP) -> A.7 Message Data -> A.7.8 MD protocol state machine -> Table A.30 芒聙聯 MD receiver state diagram 芒聙聯 triggers": "Triggers Description: mdMessageReceived - An MD telegram has been received",
  "Train Real-Time Data Protocol (TRDP) -> A.7 Message Data -> A.7.8 MD protocol state machine -> Table A.28 芒聙聯 MD replier state diagram 芒聙聯 actions": "mdReplySession handles the states of a reply session. The system sends a confirmation message by invoking the MD.indicate service primitive and invokes the MD.release service primitive. When mdAbort is FALSE, the system continues processing. When mdAbort is TRUE, the system aborts the session. If the sequence counter of the previous received request is invalid, discardMsg discards the received message. The service primitive parameter is 'data'. sendReplyErr(replyStatus) sends an error reply message. The reply type is 'Me'.",
  "Train Real-Time Data Protocol (TRDP) -> A.7 Message Data -> A.7.8 MD protocol state machine -> Table A.31 芒聙聯 MD receiver state diagram 芒聙聯 guards": "Guards Description: msgType refers to the message telegram type as defined in Table A.18",
  "Train Real-Time Data Protocol (TRDP) -> A.7 Message Data -> A.7.8 MD protocol state machine -> Table A.26 芒聙聯 MD replier state diagram 芒聙聯 triggers": "The MD replier state diagram triggers include: MD.addListener user called service primitive, reply timeout, message type equals Mr with exists true filtering for listener, message type equals Mr with exists false starting mdHandleRequest, message type equals Mr with exists true indicating data, message type equals Mr with exists false, reply type equals Mp, reply type equals Mq with entry indicating data, MD.reply leaving StateWaitForConfirm, opening reply session, mcReceived indicating data and leaving, timeout leaving, exit releasing data or timeout or abort, starting mdReplySession, CompositeStateReplier MD.addListener adding listener, starting replier with state equals StateWaitForConfirm or else condition, repeated equals true discarding message, mdAbort equals true or else condition, and IEC CD 61375-2-3 © IEC 2024 reference.",
  "Train Real-Time Data Protocol (TRDP) -> A.7 Message Data -> A.7.6 Interaction between application and TRDP layer -> Table A.20 芒聙聯 TRDP service primitives 芒聙聯 Replier": "MD.addListener service primitive parameters include Handle, which is a handle for this listener returned by the TRDP layer to associate the listener with the MD.indication DNS. sourceIpAddress2 defines the upper IP address in case of an IP address range. destinationIpAddress is the IP destination address generated from respective URIs. sourceURI[] as defined in Table A.18 specifies only notification/request from that source. destinationURI as defined in Table A.18 specifies only notification/request with that destination. MD.readdListener service primitive parameters include Handle for this listener, etbTopoCnt actual value, opTrnTopoCnt actual value, sourceIpAddress IP source address generated from respective URIs, sourceIpAddress2 defining the upper IP address in case of an IP address range, and destinationIpAddress IP destination address generated from respective URIs. MD.delListener service primitive parameters include Handle returned by the TRDP layer in MD.addListener, where the TRDP layer informs about an event, and userReference which was submitted with MD.addListener for reception of a request message ('Mr'). comId as defined in Table A.18 is set to 0 if unknown (error return). MD.reply service primitive parameters include msgType for sending reply message ('Mp') and sessionId session identifier as indicated with MD.indication. MD.release service primitive parameters include userReference which was submitted with MD.addListener for TRDP layer error ('Me'). comId as defined in Table A.18 is set to 0 if unknown (error return).",
  "Train Real-Time Data Protocol (TRDP) -> A.7 Message Data -> A.7.8 MD protocol state machine -> Table A.33 芒聙聯 MD receiver state diagram 芒聙聯 states": "States Description: CompositeStateReceiver is the composite state of the receiver",
  "Train Real-Time Data Protocol (TRDP) -> A.7 Message Data -> A.7.8 MD protocol state machine -> Table A.32 芒聙聯 MD receiver state diagram 芒聙聯 actions": "Actions Description: checkCallSession checks if a caller session to the given reply exists. If a caller session exists, check that at least one of the cases listed in checkReplySession. checkReplySession checks if a reply session to the given request or confirmation exists. checkMsgHeader checks the MD telegram header for FCS, version and sequence counter. mpReceived triggers reception of Mn type MD telegram.",
  "Train Real-Time Data Protocol (TRDP) -> A.8 Message data echo server (option)": "4245 End devices with TRDP message data support can provide a message data echo function. A 4246 The Message Data Echo should be implemented in the TRDP layer. When message data arrive with the echo ComId (see Table A.2), an echo message is created.",
  "Train Real-Time Data Protocol (TRDP) -> A.7 Message Data -> A.7.5 MD-PDU -> Table A.18 芒聙聯 MD-PDU parameters": "sequenceCounter: The sequence counter shall be incremented with each repetition and shall be returned with the reply message. protocolVersion: The protocol version shall consist of fixed values for incompatible changes and compatible changes. msgType: Type of the telegram. comId: Identifier of the user dataset. See also A.5. etbTopoCnt: The topography counter shall be set by the user if not used. opTrnTopoCnt: The topography counter shall be set when the source device uses information from the operational train and is optional in all other cases. datasetLength: Length of the user data set in number of octets from 0 to 65388. replyStatus: The status value shall be set by the replier to report the status, with values less than 0 indicating NOK and value 6 indicating no reply. sessionId: The session identification shall identify a request-error session, shall be computed at caller side and reused at replier side, shall be used at caller side to relate a reply or error, shall be used at replier side to identify a session, and shall be a UUID according to RFC 4122, time-based. replyTimeout: The reply timeout value shall be set to define the expected timeout from 1 to maximum value. sourceUri: The source URI. destinationUri: The destination URI. headerFcs: The header frame check sequence computed according to specification. dataset: The user data.",
  "Train Real-Time Data Protocol (TRDP) -> A.7 Message Data -> A.7.8 MD protocol state machine -> Figure A.24 芒聙聯 TRDP Layer MD telegram reception": "The IEC CompositeStateReceiver processes mdMessageReceived and mdHandleReceived when exists equals TRUE. It starts mdHandleReceived and checks the message header for various message types including Mp, Mq, Mc, Mn, and Mr. If the message type does not match any of these, it discards the message. If the message type is Me and exists equals TRUE, it proceeds according to IEC CD 61375-2-3 standard from IEC 2024.",
  "Train Real-Time Data Protocol (TRDP) -> A.7 Message Data -> A.7.9 TCP Connection Handling": "4228 This subclause defines the handling of TCP connections for TRDP message data transmission. Using TCP for data transmission requires an established TCP connection between the caller and the replier. As long as a TCP connection to another device in the required direction is open, it should be maintained. The caller shall close an existing TCP connection (active end) in the following cases: A signal that the TCP connection will be closed has been received. 4236 The replier shall use the connection opened by the caller. A signal that the TCP connection will be closed has been received. The TCP connection is not used anymore for a defined time. Removed - incomplete sentence",
  "Train Real-Time Data Protocol (TRDP) -> A.6 Process Data -> A.6.6 Interaction between application and TRDP protocol layer -> Table A.4 芒聙聯 TRDP service primitives": "Publisher PD.publish: TRDP user to TRDP layer handle Handle for this publishing, returned userRef Optional user reference for call callBackFunction Optional call back function. Set to 0 reserved as defined in Table A.3 sourceIpAddress Source IP Address of the PD. Process Data to. Set to 0 for application triggered Process Data datasetLength Actual user data length to be sent dataset Buffer with user data to be sent as redId Redundancy group ID. Set to 0 if PD.rePublish: TRDP user to TRDP layer handle Handle which has been given by the etbTopoCnt as defined in Table A.3 opTrnTopoCnt as defined in Table A.3 sourceIpAddress Source IP Address of the Process Data. destinationIpAddress Destination IP address to send the PD.unPublish: TRDP user to TRDP layer handle Handle which has been given by the PD.putData: TRDP user to TRDP layer handle Handle which has been given by the datasetLength Actual user data length to be sent dataset Buffer with user data to be sent as PD.setRed: TRDP user to TRDP layer redId Selects the redundancy group to be leader If TRUE, the service activates PD.getRed: TRDP user to TRDP layer redId Selects the redundancy group to be leader If TRUE, publishing is activated for PD.putDataImmediate: TRDP user to TRDP layer handle Handle which has been given by the txTime Absolute time to transmit or 0 for datasetLength Actual user data length to be sent dataset Buffer with user data to be sent as Requester PD.request: TRDP user to TRDP layer handle handle for this subscription of the reserved as defined in Table A.3 comId ComId to be sent, as defined in etbTopoCnt as defined in Table A.3 sourceIpAddress Source IP address destinationIpAddress Destination IP address to send the redId Redundancy ID. Set to 0 if dataSet User data set to be sent, as defined datasetLength data set length to be sent, as replyComId as defined in Table A.3 Subscriber PD.subscribe: TRDP user to TRDP layer handle handle for this subscription; userRef Optional user reference for call callBackFunction Optional call back function. Set to 0 reserved as defined in Table A.3 comId as defined in Table A.3 etbTopoCnt as defined in Table A.3 opTrnTopoCnt as defined in Table A.3 respective URIs using DNS. sourceIpAddress2 Defines the upper IP address in destinationIpAddress IP destination address, generated timeout Timeout (rxTime) for Process Data to be timeoutBehaviour Optional behaviour in case of a PD_resubscribe: TRDP user to TRDP layer handle handle for this subscription; etbTopoCnt as defined in Table A.3 opTrnTopoCnt as defined in Table A.3 sourceIpAddress1 IP source address, generated out of Defines the lower IP address in sourceIpAddress2 Defines the upper IP address in destinationIpAddress IP destination address, generated PD.unsubscribe: TRDP user to TRDP layer handle handle returned by the TRDP layer PD.indicate: TRDP layer to TRDP user handle handle returned by the TRDP layer sourceIpAddress Received source IP address destinationIpAddress Received destination IP address, as sequenceCounter Received sequence counter, as protocolVersion Received protocol version, as msgType process data (Pd) comId Received ComId, as defined in etbTopoCnt Received topo count, as defined in opTrnTopoCnt Received topo count, as defined in replyIComId Received reply ComId, as defined in replyIpAddress Received reply IP address userRef User reference given in status 0 OK, != 0 NOK 1 timeout 6 no subscription timeoutBehaviour Optional behaviour in case of a reserved as defined in Table A.3 dataset Received user data, as defined in datasetLength Received user data size, as defined PD.get: TRDP user to TRDP layer handle handle returned by the TRDP layer sourceIpAddress Received source IP address destinationIpAddress Received destination IP sequenceCounter Received sequence counter, as protocolVersion Received protocol version, as msgType process data (Pd) comId Received ComId, as defined in etbTopoCnt Received topo count, as defined in opTrnTopoCnt Received topo count, as defined in replyIComId Received reply ComId, as defined in replyIpAddress Received reply IP address userRef User reference given in status 0 OK, != 0 NOK 1 timeout timeoutBehaviour Optional behaviour in case of a reserved as defined in Table A.3 dataset Received user data, as defined in datasetLength Received user data size, as defined",
  "Train Real-Time Data Protocol (TRDP) -> A.7 Message Data -> A.7.8 MD protocol state machine -> A.7.8.1 TRDP Layer 芒聙聯 Caller": "If a TRDP user (caller) requests sending a message, the TRDP user's topography counters shall be checked. If a TRDP user (caller) requests sending a notification, a notification message (MsgType 'Mn') shall be sent. If a TRDP user (caller) requests sending a request message, a caller session shall be opened. To ensure that the session identifier is unique, each request-reply/request-reply-confirm session shall use a unique identifier. A timeout value for the reply message(s) shall be defined by the TRDP user (caller). 4093 NOTE If retries are selected, the timeout at application layer can be up to (maxNumRetries + 1) * replyTimeout. During the caller session, the TRDP layer shall wait for incoming reply messages (MsgType 'Mp', 'Mq' or 'Me'). If the number of expected incoming replies is reached and there are no more outstanding replies, the session shall proceed. The confirmation shall use as destination URI the source URI received in the reply message. After getting the confirmation from TRDP user (caller), the TRDP layer shall send a confirmation message. A confirmation message shall not contain user data and shall be sent only as unicast. The TRDP user (caller) shall take care to provide the confirmation in time as indicated by the protocol. If the number of incoming replies is reached and the confirm timeout timer expires while waiting for confirmation, the session shall be terminated. If the reply timeout timer of the caller session expires because of a missing reply and the number of retries is exhausted, the session shall be terminated. If the reply timeout timer expires and the number of expected repliers is greater than 1 and less than the total expected, partial completion shall be handled. If the number of repliers is not known (parameter NoOfRepliers = 0 and the reply timeout timer expires), the session shall be terminated. There shall be no retransmission of request messages if TCP is used. If TCP retransmission occurs, it shall be handled according to TCP protocol. If the TRDP layer receives a reply message (MsgType 'Mp', 'Mq' or 'Me') without having opened a corresponding session, the message shall be discarded. The topography counter values obtained during caller session opening shall be used throughout the session. If a TRDP user receives a reply message with topography counter values different to the expected values, the message shall be rejected. If a TRDP user aborts an (open) session (e.g., after a train topology change), running timers shall be stopped. The behavior of the caller's TRDP layer is depicted in Figure A.22 with explanations given in the accompanying documentation.",
  "Train Real-Time Data Protocol (TRDP) -> A.7 Message Data -> A.7.8 MD protocol state machine -> A.7.8.2 TRDP Layer 芒聙聯 Replier (Listener)": "Each TRDP user (replier) that wants to receive MD shall register as listener for MD. All incoming messages shall be checked against the actual topography counters. All incoming messages shall be checked against registered listeners. In case of a unicast request message to a not registered listener or to a listener expecting different topography counter values, the message shall be discarded. If a notification message (MsgType Mn) is received, the message shall be passed to the related TRDP user. If a request message (MsgType Mr) is received, a reply session shall be opened using the received message parameters. If a request message (MsgType Mr) is received for an open reply session with different sequence counter values, the reply session shall be closed. After receiving the MD.reply from the TRDP user (listener), the TRDP layer shall send the reply message. A reply message shall be sent only as unicast using source IP address and source URI of the listener. The MD.reply of a listener shall use as source IP address the IP address of the listener and as source URI the URI of the listener. If a reply message without confirmation (MsgType = Mp) was sent, the reply session shall be closed. If a reply message with confirmation (MsgType = Mq) was sent, the timeout timer of the reply session shall be started. If a request message (MsgType Mr) is received with a different sequence counter for an open reply session, the reply session shall be closed. If a request message (MsgType Mr) is received for an already open reply session and the sequence counter matches, the message shall be processed normally. If a confirmation message (MsgType Mc) is received for an open reply session with matching parameters, the reply session shall be closed. If a confirmation message (MsgType Mc) is received without having an open reply session with matching parameters, the message shall be discarded. If the timeout timer of a reply session expires, the reply session shall be closed. The topography counter values obtained in an MD.addListener service primitive shall be used for checking incoming messages. If a TRDP user receives a request message with topography counter values different to the registered values, the message shall be discarded. If a TRDP user removes or updates a listener (for example, after a train topology change) during an active session, the session shall be terminated. After a train topology change, all active sessions shall be revalidated. The behavior of the replier's TRDP layer is depicted in Figure A.23 with explanations given in the accompanying text. This section describes the TRDP Layer Replier (Listener) protocol state machine behavior."
}